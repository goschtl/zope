<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html metal:use-macro="templates/master.pt/macros/page" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title metal:fill-slot="page-title">Introduction to the KGS</title>
  </head>
  <body>
    <h1 id="header" metal:fill-slot="title">
      <em class="name" tal:replace="title">name</em> Known Good Set
    </h1>
    <ul class="level-one" metal:fill-slot="left-nav">
      <li tal:repeat="version versions">
          <a href="#">Version <span tal:replace="version/name">1</span></a>
          <ul class="level-two" style="display: none;">
          <li tal:repeat="feature version/features">
          <a href="#"
          tal:attributes="href feature/url"
          tal:content="feature/title">Feature 1</a>
          </li>
          <li tal:replace="nothing">
          <a href="#">Feature 2</a>
          </li>
          <li tal:replace="nothing">
          <a href="#">Feature 3</a>
          </li>
          <li tal:replace="nothing">
          <a href="#">Feature 4</a>
          </li>
          </ul>

      </li>
      <li>
          <a href="intro.html">KGS Introduction</a>
      </li>
    </ul>

    <div metal:fill-slot="content">
      <h1 id="pageheading">Known Good Sets</h1>

      <h2>Usage</h2>

      <p>
        This KGS was designed to work with many of the tools developed to
        manage and install Python pacakges. The following sub-sections will
        explain its use in more detail.
      </p>

      <h3>The Index</h3>

      <p>
        You can use the index directly. It then behaves exactly like
        <a href="http://pypi.python.org/simple">http://pypi.python.org/simple</a>,
        except that only the good versions of the controlled packages are
        available. The advantage of using the KGS as an index is that you get
        bug fixes automatically.
      </p>

      <ul>
        <li>
          <div>In <strong>Buildout</strong> you can set this index in your <code>buildout.cfg</code> file:</div>
          <pre>
[buildout]
index = http://download.project.org/kgs
...</pre>
        </li>
        <li>
          <div>With <strong>SetupTools</strong> you can specify the index as a command line option to the <code>easy_install</code> command:</div>
          <pre>$ easy_install -i http://download.project.org/kgs mypackage</pre>
        </li>
      </ul>

      <h3>Nailed or Pinned Versions</h3>

      <p>
        When deploying an application, it is often important to nail or pin down
        the versions of all used packages, so that it can be guaranteed that the
        setup is identical all the time.
      </p>

      <ul>
        <li>
          <div>In <strong>Buildout</strong>, the versions can be specified in the <code>buildout.cfg</code> file like this by either copying the contents of <code>versions-*.cfg</code> or referencing it with the <code>extends</code> option:</div>
          <pre>
[buildout]
versions = versions
...
[version]
zope.interface = 3.4.0
&lt;copy the contents of versions-*.cfg here&gt;</pre>
              or
          <pre>
[buildout]
extends = http://download.project.org/kgs/versions-1.0.0.cfg</pre>
        </li>
        <li>
          <div><strong>SetupTools</strong> itself cannot use the <code>version.cfg</code>
          file.</div>
        </li>
      </ul>

      <h3>Find Links</h3>

      <p>
        The way of providing the installation tools with additional locations to
        look for packages is via find links. Those URLs are expected to be an
        HTML page with links to files or files directly.
      </p>

      <ul>
        <li>
          <div>Buildout, <code>buildout.cfg</code>:</div>
          <pre>
[buildout]
find-links = http://download.project.org/kgs/links.html
...</pre>
        </li>
        <li>
          <div>Setup Tools, <code>easy_install</code></div>
          <pre>$ easy_install -f http://download.project.org/kgs/links.html mypackage</pre>
        </li>
      </ul>
    </div>
  </body>
</html>
