Grok tutorial
=============

Welcome to the Grok tutorial! Grok is an extension to Zope 3 that
makes it much quicker and easier to develop web applications with Zope
3, *without* losing the power and flexibility of Zope 3 itself. Grok
builds on existing Zope 3 technology like the component architecture
but exposes it in a different way to the developer.

In this tutorial we will be writing a simple todo list application. We
will lead you all the way from the start, setting up Grok on your
computer, to a simple but complete todo list implementation. All
you're expected to know is the Python programming language and a basic
understanding of web programming.

Setting up grokproject
----------------------

Setting up grok on a Unix-like (Linux, Mac OS X) environment is
easy. 

Let's go through the prerequisites first. You need a computer
connected to the internet, as Grok installs itself over the
network. You also need Python 2.4 installed.

Because Grok uses a source distribution of Zope 3, you may need to
install your operating system's Python "dev" package. You also need a
working C compiler (typically `gcc`) installed, as we compile bits of
Zope 3 during setup. Finally, you also need `easy_install` installed
so it becomes easy to install eggs.

.. sidebar:: Installing `easy_install`

  If you don't already have `easy_install` available, you can find the
  script to set it up here::

    http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-install

  You need to download `ez_setup.py`_. Then, you run it like this to
  install `easy_install` into your system Python::

    $ sudo python2.4 ez_setup.py

  This will make `easy_install` available to you.

  **Note**: Sometimes you have `easy_install` installed but you need a
  newer version of the underlying `setuptools` to make Grok work. You
  can automatically upgrade `setuptools` this by doing::

    $ sudo easy_install -U setuptools

Once you are done with the prerequisites, you can install
`grokproject` itself::

  $ sudo easy_install grokproject

We're ready to create our first grok project now!

Creating a grok project
-----------------------

Let's create our first Grok project, the todo list::

  $ grokproject TodoList

First, grokproject will tell you what it will be creating::

  Selected and implied templates:
    grokproject#grokproject  A grok project

  Variables:
    egg:      TodoList
    package:  todolist
    project:  TodoList

The "Selected and implied templates" line is something reported by
Paste, which is the Python project generation software grokproject is
using. Next, it reports three names. First, it reports the name this
project will have if in the project's `setup.py`:

    egg:      TodoList

Next, it specifies the name of the Python package that you will be
developing with. The package will be placed under the project's `src`
directory::

    package:  todolist

Finally, it gives the name of the project directory that it will
create::

    project:  TodoList

Now it asks you a number of questions. First it asks for the name of the
initial module of the package. We'll call our module `app.py`::

  Enter module (Name of a demo Python module placed into the package): app.py

Next, Grok asks use for an initial user and password for the Zope
server. We'll use `grok` for both::

  Enter user (Name of an initial administrator user): grok
  Enter passwd (Password for the initial administrator user): grok

Now you have to wait a while as grokproject downloads Grok, Zope 3 and
sets up the project environment for you.

Grok, along with Zope 3 is now ready to go. You can go into the
`TodoList` project directory now::

  $ cd TodoList

As you can see grokproject created the `setup.py` file for you, and a
`src` directory. In it is a Python package directory called `todolist`
with an `app.py`.

A Zope 3 instance has been installed in the 'parts/instance'
directory. You can start it (into the foreground) by typing the
following::

  $ parts/instance/bin/zopectl fg

This will make Zope 3 available on port 8080, and you can log in with
username `grok` and password `grok`. Of course it doesn't contain any
Grok applications yet - we're going write one in this tutorial. So,
you can shut down Zope 3 easily enough by typing `ctrl-c`.

