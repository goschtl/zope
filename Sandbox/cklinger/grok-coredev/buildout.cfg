[buildout]
parts = 
    zopectl 
    test
    zopepy
    data
    grokwiki

extends = sources.cfg versions.cfg
extensions = mr.developer

develop = 
    src/*
    src/grok/grokwiki
eggs = 


[data]
recipe = zc.recipe.filestorage


[zopectl]
recipe = zc.zope3recipes:instance
application = grokwiki
zope.conf = ${data:zconfig}


[test]
recipe = zc.recipe.testrunner
eggs = 
    grok
    grokcore.component
    grokcore.view
    grokcore.security
    grokcore.viewlet
    grokcore.formlib
    martian
defaults = ['-v', '--exit-with-status', '--auto-color', '--auto-progress']


[zopepy]
recipe = zc.recipe.egg
eggs = ${test:eggs} 
interpreter = zopepy
scripts = zopepy


[grokwiki]
recipe = zc.zope3recipes>=0.5.3:application
eggs = grokwiki
site.zcml = <include package="grokwiki" />
            <include package="zope.app.twisted" />

            <unauthenticatedPrincipal id="zope.anybody"
                                      title="Unauthenticated User" />
            <unauthenticatedGroup id="zope.Anybody"
                                  title="Unauthenticated Users" />
            <authenticatedGroup id="zope.Authenticated"
                                title="Authenticated Users" />
            <everybodyGroup id="zope.Everybody"
                            title="All Users" />
            <principal id="zope.manager"
                       title="Manager"
                       login="grok"
                       password_manager="Plain Text"
                       password="grok"
                       />

            <!-- Replace the following directive if you do not want
                 public access -->
            <grant permission="zope.View"
                   principal="zope.Anybody" />
            <grant permission="zope.app.dublincore.view"
                   principal="zope.Anybody" />

            <role id="zope.Manager" title="Site Manager" />
            <role id="zope.Member" title="Site Member" />
            <grantAll role="zope.Manager" />
            <grant role="zope.Manager"
                   principal="zope.manager" />

