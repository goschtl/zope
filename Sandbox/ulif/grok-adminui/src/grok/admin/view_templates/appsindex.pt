<html metal:use-macro="context/@@macros/gaia-page">
  <div metal:fill-slot="content">

    <form tal:define="apps context/values"
	  tal:attributes="action string:${context/@@absolute_url}/delete"
	  tal:condition="apps|nothing">
      <fieldset>
	<legend>Installed applications</legend>
	<div tal:repeat="app apps">
	  <input type="checkbox" 
		 class="checkbox" 
		 tal:attributes="value app/__name__;
				 name string:items" />
	  <a tal:attributes="href string:${context/@@absolute_url}/${app/__name__}">
	    <span tal:replace="app/__name__"/>
	    (<span tal:replace="app/__class__/__name__"/>)
	  </a>
	  &nbsp;&nbsp;
	</div>

	<p>
	  <input class="button" type="submit" value="Delete Selected"/></p>
      </fieldset>
    </form>
    <fieldset>	
      <legend>Add application</legend>
      <form action="" tal:attributes="action string:${context/@@absolute_url}/add">
	<fieldset tal:repeat="app view/applications">
	  <legend><a href=""
		     tal:attributes="href string:${context/@@absolute_url}/docgrok/${app/docurl}"
		     tal:content="app/name">Application Name</a></legend>
	  <p class="docgrok-description1">
	    <span tal:replace="structure python: view.getDocOfApp(app['name']) or ''">
	      Application description here.
	    </span>
<!--
	    <a href="" class=""
	       tal:attributes="href string:${context/@@absolute_url}/docgrok/url/docurl">(more...)</a>
-->
	  </p>
	  <p>
	    <label>Name your new app: <input type="text" name="name"/></label>
	    <input type="hidden" name="application" value=""
		   tal:attributes="value app/name" />
	    <input class="button" type="submit" name="Add" value="Create"/>
	  </p>
	</fieldset>
      </form>
    </fieldset>

  </div>

</html>
