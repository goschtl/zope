<html metal:use-macro="context/@@macros/gaia-page">
  <div metal:fill-slot="content">
    <h1>Manage your Zope 3 instance</h1>

    <form method="POST" action=""
      tal:attributes="action string:${context/@@absolute_url}/server">
      <fieldset>
        <legend>Manage server process</legend>
        <input type="submit" name="restart" class="button" value="Restart Zope 3" />
        <input type="submit" name="shutdown" class="button" value="Stop Zope 3" />
        after <input type="text" name="time" value="0" size="4" /> seconds
      </fieldset>

      <fieldset>
        <legend>Admin message</legend>

        <p>Let's you display an administrative message on all pages.</p>

        <input
          type="text"
          name="admin_message"
          tal:attributes="value view/current_message/message|nothing"
          />

        <input type="hidden" name="submitted" value="true"/>

        <input type="submit" name="save_message" class="button" value="Save"/>

      </fieldset>

      <fieldset tal:define="ri view/runtime_info">
        <legend>Server process info</legend>
        <div>
          <span class="emph">Uptime:</span>
          <span tal:content="ri/Uptime">unknown</span> 
        </div>
        <div>
          <span class="emph">System platform:</span>
          <span tal:content="ri/SystemPlatform">unknown</span> 
        </div>
        <div>
          <span class="emph">Zope version:</span>
          <span tal:content="ri/ZopeVersion">unknown</span> 
        </div>
        <div>
          <span class="emph">Python version:</span>
          <span tal:content="ri/PythonVersion">unknown</span> 
        </div>
        <div>
          <span class="emph">Command line:</span>
          <span tal:content="ri/CommandLine">unknown</span> 
        </div>
        <div>
          <span class="emph">Preferred encoding:</span>
          <span tal:content="ri/PreferredEncoding">unknown</span> 
        </div>
        <div>
          <span class="emph">File system encoding:</span>
          <span tal:content="ri/FileSystemEncoding">unknown</span> 
        </div>
        <div>
          <span class="emph">Process ID:</span>
          <span tal:content="ri/ProcessId">unknown</span> 
        </div>
        <div>
          <span class="emph">Python path:</span>
          <div tal:repeat="path ri/PythonPath">
            <span tal:content="path">unknown</span> 
          </div>
        </div>
      </fieldset>

    </form>

  </div>

</html>
