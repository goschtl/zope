============
tfws.website
============

  >>> from tfws.website import testing
  >>> from z3c.etestbrowser.testing import ExtendedTestBrowser
  >>> browser = ExtendedTestBrowser()
  >>> browser.addHeader('Authorization', 'Basic mgr:mgrpw')
  >>> browser.handleErrors = False
  >>> browser.open("http://localhost/")

If we try to access the root object without credentials we get ``unauthorized``.

  >>> user = ExtendedTestBrowser()
  >>> user.open("http://localhost/")
  Traceback (most recent call last):
  ...
  HTTPError: HTTP Error 401: Unauthorized
  >>> user.handleErrors = False

Using our authenticated browser instance we can add a website.

  >>> browser.open("http://localhost/add")
  >>> browser.getControl('name').value = u'treefern'
  >>> browser.getControl('Title').value = u'Tree Fern'
  >>> browser.getControl('Login').value = u'darrylcousins'
  >>> browser.getControl('Password').value = u'tfws'
  >>> browser.getControl('First Name').value = u'Darryl'
  >>> browser.getControl('Last Name').value = u'Cousins'
  >>> browser.getControl('Email').value = u'darry.cousins@tfws.org.nz'
  >>> browser.getControl('Add').click()

The new site is now included in the table of sites available.

  >>> browser.open("http://localhost/")
  >>> testing.printElement(browser, "//table/tbody/tr[1]/td/a/text()",
  ...                      multiple=True, serialize=False )
  treefern
  Tree Fern

We can edit the new site.

  >>> #print browser.contents
  >>> browser.getLink('Tree Fern').click()
