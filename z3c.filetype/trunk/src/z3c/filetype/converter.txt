  Converting
~~~~~~~~~~~~~~

We can convert data, for this we should register converter for required types

  >>> from zope import component, interface
  >>> from z3c.filetype import api, interfaces
  >>> from z3c.filetype.interfaces import filetypes
  >>> from z3c.filetype.converters import jpggif

Now we need load files

  >>> import os.path
  >>> testData = os.path.join(os.path.dirname(api.__file__), 'testdata')

  >>> from z3c.filetype.typeablefile import TypeableFile
  >>> img1 = TypeableFile(file(os.path.join(testData, 'logo.gif'), 'rb').read())

  >>> sorted((interface.directlyProvidedBy(img1)))
  [<InterfaceClass z3c.filetype.interfaces.filetypes.IGIFFile>]

  >>> img2 = api.convert(img1, filetypes.IJPGFile)
  Traceback (most recent call last):
  ...
  ConverterNotFound: ...

Let's register simple image converters

  >>> component.provideAdapter(jpggif.GIFtoJPEGConverter)
  >>> component.provideAdapter(jpggif.JPEGtoGIFConverter)

  >>> img2 = api.convert(img1, filetypes.IJPGFile)
  >>> sorted((interface.directlyProvidedBy(img2)))
  [<InterfaceClass z3c.filetype.interfaces.filetypes.IJPGFile>]

Image converter can scale image

  >>> interfaces.IImageSized(img2).getImageSize()
  (201, 54)

converter save width/height aspect retio

  >>> img2 = api.convert(img1, filetypes.IJPGFile, width=100, height=54)
  >>> interfaces.IImageSized(img2).getImageSize()
  (100, 26)

  >>> img2 = api.convert(img1, filetypes.IJPGFile, width=100, height=40)
  >>> interfaces.IImageSized(img2).getImageSize()
  (100, 26)

  >>> img2 = api.convert(img1, filetypes.IJPGFile, scale=0.5)
  >>> interfaces.IImageSized(img2).getImageSize()
  (101, 27)

Named converters, we can pass converter `name`. It can be string or sequence 
of names.

  >>> img2 = api.convert(img1, filetypes.IJPGFile, name='MyConverter')
  Traceback (most recent call last):
  ...
  ConverterNotFound: ...

  >>> component.provideAdapter(jpggif.GIFtoJPEGConverter, name='MyConverter')

Simple case with only one name

  >>> img2 = api.convert(img1, filetypes.IJPGFile, name='MyConverter')

With multple names, it will try get `MyConverter` if it is not 
exists it will try `PIL` etc.

  >>> img2 = api.convert(img1, filetypes.IJPGFile, name=['MyConverter', 'PIL', ''])
