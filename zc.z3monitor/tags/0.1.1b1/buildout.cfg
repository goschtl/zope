[buildout]
develop = .
parts = instance test

[zope3]
recipe = zc.recipe.zope3checkout
url = svn://svn.zope.org/repos/main/Zope3/trunk

[app]
recipe = zc.zope3recipes:app
eggs = zc.z3monitor
servers = zserver
site.zcml =
  <include package="zope.app.zcmlfiles" />
  <include package="zope.app.securitypolicy" />
  <include package="zope.app.securitypolicy" file="meta.zcml" />
  <include package="zope.app.authentication" />
  <include package="zope.app.server" />
  <securityPolicy
    component="zope.app.securitypolicy.zopepolicy.ZopeSecurityPolicy" />
  <role id="zope.Anonymous" title="Everybody"
                 description="All users have this role implicitly" />
  <role id="zope.Manager" title="Site Manager" />
  <role id="zope.Member" title="Site Member" />
  <grantAll role="zope.Manager" />
  <unauthenticatedPrincipal
    id="zope.anybody"
    title="Unauthenticated User" 
    />
  <principal
      id="zope.manager"
      title="Manager"
      login="jim"
      password_manager="SHA1"
      password="40bd001563085fc35165329ea1ff5c5ecbdbbeef"
      />
  <grant
      role="zope.Manager"
      principal="zope.manager"
      />
  <include package="zc.z3monitor" />

[instance]
recipe = zc.zope3recipes:instance
application = app
zope.conf =
   ${database:zconfig}
   <product-config zc.z3monitor>
      port 8000
   </product-config>

[database]
recipe = zc.recipe.filestorage

[test]
recipe = zc.recipe.testrunner
eggs = zc.z3monitor
extra-paths = ${zope3:location}/src
