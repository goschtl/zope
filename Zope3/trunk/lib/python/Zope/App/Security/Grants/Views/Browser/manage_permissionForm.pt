<html metal:use-macro="views/standard_macros/page">
<head>
<style metal:fill-slot="headers" type="text/css">
<!--
.row-normal {
  background-color: #ffffff;
  border: none;
}

.row-hilite {
  background-color: #efefef;
  border: none;
}
-->
</style>
</head>
<body bgcolor="#ffffff" link="#000099" alink="#000099" vlink="#000099">
<div metal:fill-slot="body">
<p class="form-help">
Helpful message.
</p>

<div tal:define="perm python:view.permissionForID(request.get('permission_to_manage'))">
<p class="form-text">
Roles assigned to the permission
<strong tal:content="perm/getTitle">Change DTML Methods</strong>
(id: <strong tal:content="perm/getId">Zope.Some.Permission</strong>)
</p>


<form action="ChangeRolesWithPermission.html" method="post">
<input type="hidden" name="permission_id" value="Permission Name"
    tal:attributes="value perm/getId" />
<div class="form-element">

<table width="100%" cellspacing="0" cellpadding="2" border="0" nowrap>
<tr class="list-header">
  <td align="left" valign="top">
    <div class="form-label">
      <strong>Role</strong>
    </div>
  </td>
  <td align="left">
    <div class="form-label">
      <strong>Setting</strong>
    </div>
  </td>
</tr>

<tr class="row-normal"
    tal:repeat="setting perm/roleSettings"
    tal:attributes="class python:path('repeat/setting/even') and 'row-normal' or 'row-hilite'">
  <td align="left" valign="top"
      tal:define="ir repeat/setting/index"
      tal:content="python:path('view/roles')[ir].getId()">
    Manager
  </td>
  <td>
    <select name="settings:list">
        <option value="Unset"
           tal:repeat="option view/availableSettings"
           tal:attributes="value option/id;
                           selected python:setting == option['id']"
           tal:content="option/shorttitle">+</option>
    </select>
  </td>
</tr>
</table>

</div>

<div class="form-element">
<input class="form-element" type="submit" name="submit" value="Save Changes" />
</div>
</form>

</div>
</div>
</body>
</html>
