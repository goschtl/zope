from Interface import Interface
from Persistence import Persistent
from Zope.Schema.FieldProperty import FieldProperty

# field imports
from Zope.Schema import Text
from Zope.App.schemagen import schemaspec

class IFoo(Interface):
    """Autogenerated schema."""
    alpha = Text(title=u'alpha')
    
class FooClass(Persistent):
    """Autogenerated class for IFoo."""
    __implements__ = IFoo

    def __init__(self):
        self.__schema_version__ = 1
        
    alpha = FieldProperty(IFoo['alpha'])

    def __setstate__(self, state):
        transformations = schemaspec.prepareSetstate(self, state, 1)
        if transformations is None:
            return
        dict = self.__dict__
        if 0 in transformations:
            schemaspec.AddField.update(dict, state, 'alpha')

