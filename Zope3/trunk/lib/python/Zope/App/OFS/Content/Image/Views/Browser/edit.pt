<html metal:use-macro="views/standard_macros/page">
  <body>
  <div metal:fill-slot="body">

    <p>This edit form allows you to make changes to the properties 
      of this image.</p>

    <div tal:condition="python: options.has_key('errors') and 
                                options['errors']">
      <span style="font-weight: bold">Errors:</span>
      <div tal:repeat="error options/errors | nothing">
        <span tal:replace="python: error[0].title" />: 
        <span tal:replace="python: error[1].error_name" />
      </div>
    </div>
    <br />

    <form action="./edit.html" method="post" enctype="multipart/form-data">
      <input type="hidden" name="nextURL" value=""
          tal:attributes="value request/URL" />   

      <table class="EditTable">
        <tr>
          <th class="EditAttributeName">Size</th>
	  <td class="EditAttributeValue">
            <span tal:define="size context/getImageSize"
                  tal:content="python: str(size[0]) + ' x ' + str(size[0])">
              103 x 45</span> pixels
          </td>            
        </tr>
        <tal:block repeat="field view/getFields">
        <tr>
          <th class="EditAttributeName"
              tal:content="field/title">Title</th>
	  <td class="EditAttributeValue"
              tal:content="structure python: view.renderField(field)">
            <input size="20" />
          </td>            
        </tr>
	</tal:block>
      </table>
 
      <input type="submit" name="save" value="Save Changes" />

    </form>

  </div>
  </body>

</html>
