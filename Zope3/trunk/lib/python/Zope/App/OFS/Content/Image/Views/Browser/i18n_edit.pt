<html metal:use-macro="views/standard_macros/page">
  <head>
    <style metal:fill-slot="headers" type="text/css">
      <!--
      .ContentIcon {
	  width: 20px;
      }

      .ContentTitle {
	  text-align: left;
      }
      -->
    </style>
  </head>

  <body>
    <div metal:fill-slot="body">


      <p tal:content="options/msg | nothing">
        Message will go here.
      </p>

      <p tal:content="view/description">
        Description of the Form.
      </p>


      <form action="edit.html" method="post" enctype="multipart/form-data">

        <table class="EditTable">
	  <tbody>

            <tr>
              <th class="EditAttributeName">Content Type</th>
              <td class="EditAttributeValue">
                <input name="contentType" type="text" size=20
                       tal:attributes="value context/getContentType" />
              </td>
            </tr>
            <tr>
              <th class="EditAttributeName">Default Language</th>
              <td class="EditAttributeValue">
                <select name="defaultLanguage">
                  <span tal:repeat="lang context/getAvailableLanguages"
                        tal:omit-tag="">
                  <option selected
                          tal:attributes="value lang"
                          tal:condition="python:context.getDefaultLanguage() == lang"
                          tal:content="lang" />
                  <option
                          tal:attributes="value lang"
                          tal:condition="python:context.getDefaultLanguage() != lang"
                          tal:content="lang" />
                 </span>
                </select>
              </td>
            </tr>
            <tr>
              <td colspan=2>
                <hr>
              </td>
            </tr>
            <tr>
              <th class="EditAttributeName">Language</th>
              <td class="EditAttributeValue">
                <select name="language">
                  <span tal:repeat="lang context/getAvailableLanguages"
                        tal:omit-tag="">
                  <option selected
                          tal:attributes="value lang"
                          tal:condition="python:request.get('language',
                                context.getDefaultLanguage()) == lang"
                          tal:content="lang" />
                  <option
                          tal:attributes="value lang"
                          tal:condition="python:request.get('language',
                                context.getDefaultLanguage()) != lang"
                          tal:content="lang" />
                 </span>
                </select>
                <input type="submit" name="selectLanguage"
                       value="Show" />
                <input type="submit" name="removeLanguage"
                       value="Remove" />
                &nbsp;&nbsp;
                <input type="submit" name="addLanguage"
                       value="Add new language" />
                <input type="text" name="newLanguage" size=10 />
              </td>
            </tr>
            <tr>
              <th class="EditAttributeName">Data</th>
              <td class="EditAttributeValue">
                <input type="file" name="data" size=20 />
              </td>
            </tr>

	    <tr>
	      <th class="EditAttributeName">Dimensions</th>
	      <td class="EditAttributeValue"
                  tal:content="python:view.getImageSize(
                                        request.get('language'))">
              </td>
	    </tr>
	    <tr>
	      <th class="EditAttributeName">Size</th>
	      <td class="EditAttributeValue"
                  tal:content="python:context.getSize(
                                        request.get('language'))">
              </td>
	    </tr>

	  </tbody>
      </table>

      <input type="submit" name="edit" value="Save Changes">

      </form>

    </div>
  </body>
</html>


