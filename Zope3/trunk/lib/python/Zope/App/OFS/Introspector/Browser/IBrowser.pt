<html metal:use-macro="views/standard_macros/page">
<head>

<style metal:fill-slot="style_slot">
.preclass {
    color : #000066;
    font-family : monospace;
    white-space : pre;
    }
th.introspector {
    vertical-align: top;
    }
</style>
</head>

<body>
<div metal:fill-slot="body">
<tal:block 
    tal:define = 
       "global introspector view/getIntrospector;
        global services view/getServicesFor">

<div tal:condition="python:introspector.isInterface()">

<table tal:define = 
    "global interfacedata introspector/getInterfaceDetails">
    <tr>
        <th colspan="2">Interface Browser</th>
    </tr>
    <tr>
        <th class="introspector">Interface :</th>
        <td tal:content="python:interfacedata[0]">Interface</td>
    </tr>
    <tr>
        <th class="introspector">Bases :</th>
        <td>
            <div tal:repeat="interface python:interfacedata[1]">
                <a href="" 
                    tal:attributes="href 
                        string: ++module++${repeat/interface/item}"  
                    tal:content="repeat/interface/item">Interface</a>
            </div>
        </td>
    </tr>
    <tr>
        <th class="introspector">Description :</th>
        <td>
        <!-- the start of all of these preclass spans are carefully 
        spatially placed (in terms of whitespace), because they are 
        "pre" formatted (i.e., whitespace matters within the span) -->
        <span class="preclass"
                tal:content="python:interfacedata[2]">
                Description</span>
        </td>
    </tr>
    <tr>
        <th class="introspector">Attributes :</th>
        <td>
            <div tal:repeat="attributes python:interfacedata[4]">
                <tal:block tal:define="details repeat/attributes/item">
                    <strong tal:content="python:details[0]">
                        Atttribute Name</strong>
                    <div class="preclass">
        <span
                        tal:content="python:details[1]">
                        Attribute Description</span></div>
                </tal:block>
            </div>
        </td>
    </tr>
    <tr>
        <th class="introspector">Methods :</th>
        <td>
            <div tal:repeat="methods python:interfacedata[3]">
                <tal:block tal:define="details repeat/methods/item">
                    <strong tal:content="python:details[0]">
                        Method Name</strong>
                    <strong tal:content="python:details[1]">
                        Signature</strong>
                    <div class="preclass">
        <span 
                        tal:content="python:details[2]">
                        Method Description</span></div>
		</tal:block>
	    </div>
        </td>
    </tr>
    <!-- this section is currently not available
    <tr>
        <th class="introspector">Services :</th>
        <td>
	    <div tal:repeat="servicedic services">
                <span tal:define="dic repeat/servicedic/item">
                    <a tal:content="python:dic.keys()[0]"/>
                </span>
	    </div>
        </td>
    </tr> 
    -->
</table>
</div>

<div tal:condition="python:introspector.isInterface()==0">

<table>
    <tr>
        <th colspan="2">Class Browser</th>
    </tr>
    <tr>
        <th class="introspector">Class :</th>
        <td><span tal:content="introspector/getClass">Name</span></td>
    </tr>
    <tr>
        <th class="introspector">Bases :</th>
        <td>
            <div tal:repeat="base introspector/getBaseClassNames">
                <a href="" 
                    tal:attributes="href 
                        string: ++module++${repeat/base/item}"  
                    tal:content="repeat/base/item">Base</a>
            </div>
        </td>
    </tr>
    <tr>
        <th class="introspector">Module :</th>
        <td><span tal:content="introspector/getModule">Module</span></td>
    </tr>
    <tr>
        <th>Description :</th>
        <td>
        <span class="preclass" 
                tal:content="introspector/getDocString">
                Description</span>
        </td>
    </tr>
    <tr>
        <th class="introspector">Interface :</th>
        <td>
            <div tal:repeat="interface introspector/getInterfaceNames">
                <a href="" 
                    tal:attributes="href 
                        string: ++module++${repeat/interface/item}"
                    tal:content="repeat/interface/item">Interface</a>
            </div>
        </td>
    </tr>
</table>
</div>

</tal:block>

</div>
</body>
</html>

