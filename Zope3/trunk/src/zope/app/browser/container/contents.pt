<html metal:use-macro="views/standard_macros/page"  i18n:domain="zope">
<head>
<style metal:fill-slot="headers" type="text/css">
</style>
</head>
<body>
<div metal:fill-slot="body">
<div metal:define-macro="contents">

  <p tal:condition="view/error" tal:content="view/error">Error message</p>

  <form name="containerContentsForm" method="POST" action="."
        tal:attributes="action request/URL">

      <input type="hidden" name="type_name" value=""
             tal:attributes="value request/type_name"
             tal:condition="request/type_name|nothing"
             />
      <input type="hidden" name="retitle_id" value=""
             tal:attributes="value request/retitle_id"
             tal:condition="request/retitle_id|nothing"
             />

      <table id="sortable" class="listing" summary="Content listing"
             metal:define-macro="contents_table"
             tal:define="container_contents view/listContentInfo"
             >
    
        <thead> 
          <tr>
            <th>&nbsp;</th>
            <th>Name</th>
            <th>Title</th>
            <th>Size</th>
            <th>Created</th>
            <th>Modified</th>
          </tr>
        </thead>

        <tbody>

        <tr tal:condition="request/type_name|nothing">
          <td></td>
          <td><input name="new_value" id="focusid" value=""></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>

        <metal:block tal:repeat="item container_contents">
          <tr tal:define="oddrow repeat/item/odd; url item/url"
              tal:attributes="class python:oddrow and 'even' or 'odd'" > 
            <td>
              <input type="checkbox" class="noborder" name="ids:list" id="#"
                     value="#"
                     tal:attributes="value item/id;
                                     id item/cb_id;
                                     checked request/ids_checked|nothing;"/>
            </td>
            <td><a href="#" 
                 tal:attributes="href 
                                 string:${url}/@@SelectedManagementView.html"
                 tal:content="structure item/icon|default">
                </a
                ><span tal:condition="item/rename"
                   ><input name="new_value:list" 
                     tal:attributes="value item/id"
                     /><input type="hidden" name="rename_ids:list" value=""
                              tal:attributes="value item/rename"
                     /></span
                ><span tal:condition="not:item/rename">
                  <a href="#" 
                     tal:attributes="href 
                                 string:${url}/@@SelectedManagementView.html"
                     tal:content="item/id"
                     >foo</a
                  ><a href="#" 
                     tal:attributes="href 
                         string:${request/URL}?rename_ids:list=${item/id}"
                     >&nbsp;&nbsp;</a
                ></span
               ></td>
            <td>
              <input name="new_value" id="focusid"
                     tal:attributes="value item/title|nothing"
                     tal:condition="item/retitle"
                     />
              <a href="#" 
                 tal:attributes="href 
                                 string:${request/URL}?retitle_id=${item/id}"
                 tal:condition="item/retitleable"
                 tal:content="item/title|default"
                 >&nbsp;&nbsp;&nbsp;&nbsp;</a> 
              <span 
                 tal:condition="item/plaintitle"
                 tal:content="item/title|default"
                 >&nbsp;&nbsp;&nbsp;&nbsp;</span> 
            </td>
            <td><span tal:attributes="size item/size/sizeForSorting"
                      tal:content="item/size/sizeForDisplay">&nbsp;</span></td>
            <td><span tal:define="created item/created|default"
                      tal:content="created">&nbsp;</span></td>
            <td><span tal:define="modified item/modified|default"
                      tal:content="modified">&nbsp;</span></td>
          </tr>
        </metal:block>

        </tbody> 
      </table>

      <div tal:condition="view/normalButtons">
        <input type="submit" name="container_rename_button" value="Rename"
               i18n:attributes="value container_rename_button" 
               tal:condition="view/supportsRename"
               />
        <input type="submit" name="container_cut_button" value="Cut"
               i18n:attributes="value container_cut_button" 
               tal:condition="view/supportsCut"
               />
        <input type="submit" name="container_copy_button" value="Copy"
               i18n:attributes="value container_copy_button" 
               tal:condition="view/supportsCopy"
               />
        <input type="submit" name="container_paste_button" value="Paste"
               tal:condition="view/hasClipboardContents" 
               i18n:attributes="value container_paste_button" 
               />
        <input type="submit" name="container_delete_button" value="Delete"
               i18n:attributes="value container_delete_button"
               i18n:domain="zope"
               />
      </div>

      <div tal:condition="view/specialButtons">
        <input type="submit" value="Apply"
               i18n:attributes="value container_apply_button" 
               />
        <input type="submit" name="container_cancel_button" value="Cancel"
               i18n:attributes="value container_cancel_button" 
               />
      </div>

  </form>

      <script ><!--
          prettydump('focus', LG_INFO);
          document.containerContentsForm.new_value.focus();
          //-->
      </script>


</div>
</div>
</body>
</html>
