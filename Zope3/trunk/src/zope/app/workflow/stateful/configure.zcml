<configure
   xmlns="http://namespaces.zope.org/zope"
   xmlns:workflow="http://namespaces.zope.org/workflow" >

<!-- Stateful ProcessDefintion -->

<content 
    class="zope.app.workflow.stateful.definition.StatefulProcessDefinition">
  <factory
      id="StatefulProcessDefinition"
      permission="zope.workflow.ManageProcessDefinitions"
      />
  <implements
      interface="zope.app.interfaces.services.utility.ILocalUtility" 
      />
  <implements 
      interface="zope.app.interfaces.annotation.IAttributeAnnotatable" 
      />
  <require
      permission="zope.workflow.ManageProcessDefinitions"
      interface="
         zope.app.workflow.interfaces.stateful.IStatefulProcessDefinition"
      set_schema="
         zope.app.workflow.interfaces.stateful.IStatefulProcessDefinition" 
      />
  <require
      permission="zope.workflow.ManageProcessDefinitions"
      interface="zope.app.container.interfaces.IReadContainer" 
      />
</content>


<!-- States Container -->

<content class="zope.app.workflow.stateful.definition.StatesContainer">
  <factory
      id="StatefulStatesContainer"
      permission="zope.workflow.ManageProcessDefinitions"
      />
  <require
      permission="zope.workflow.ManageProcessDefinitions"
      interface="zope.app.workflow.interfaces.stateful.IStatefulStatesContainer"
      />
  <implements 
      interface="zope.app.interfaces.annotation.IAttributeAnnotatable" 
      />
</content>

<!-- State -->

<content class="zope.app.workflow.stateful.definition.State">
  <factory
      id="StatefulState"
      permission="zope.workflow.ManageProcessDefinitions"
      />
  <require
      permission="zope.workflow.ManageProcessDefinitions"
      interface="zope.app.workflow.interfaces.stateful.IState"
      set_schema="zope.app.workflow.interfaces.stateful.IState"
      />
  <implements 
      interface="zope.app.interfaces.annotation.IAttributeAnnotatable" 
      />
</content>

<!-- Transitions Container -->

<content class="zope.app.workflow.stateful.definition.TransitionsContainer">
  <factory
      id="StatefulTransitionsContainer"
      permission="zope.workflow.ManageProcessDefinitions"
      />
  <require
      permission="zope.workflow.ManageProcessDefinitions"
      interface=
          "zope.app.workflow.interfaces.stateful.IStatefulTransitionsContainer" 
      />
  <implements 
      interface="zope.app.interfaces.annotation.IAttributeAnnotatable" 
      />
</content>

<!-- Transition -->

<content class="zope.app.workflow.stateful.definition.Transition">
  <factory
      id="StatefulTransition"
      permission="zope.workflow.ManageProcessDefinitions"
      />
  <require
      permission="zope.workflow.ManageProcessDefinitions"
      interface="zope.app.workflow.interfaces.stateful.ITransition" 
      set_schema="zope.app.workflow.interfaces.stateful.ITransition"
      />
  <implements 
      interface="zope.app.interfaces.annotation.IAttributeAnnotatable" 
      />
</content>

<!-- ContentWorkflowsManager -->

<content 
    class="zope.app.workflow.stateful.contentworkflow.ContentWorkflowsManager">
  <factory
    id="ContentWorkflowsManager"
    permission="zope.ManageServices"
  />
  <require
    permission="zope.ManageServices"
    interface="zope.app.workflow.interfaces.stateful.IContentWorkflowsManager"
    attributes="cpRegistry"
    />
</content>

<!-- Stateful workflow import/Export -->
<workflow:importHandler
   interface="zope.app.workflow.interfaces.stateful.IStatefulProcessDefinition"
   factory=".xmlimportexport.XMLImportHandler"
   />

<workflow:exportHandler
   interface="zope.app.workflow.interfaces.stateful.IStatefulProcessDefinition"
   factory=".xmlimportexport.XMLExportHandler"
   />

<!-- Test Object for testing Stateful Workflows -->
<!--include file="testobject.zcml"/-->

</configure>
