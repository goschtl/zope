<html metal:use-macro="views/standard_macros/view">
<body>
<div metal:fill-slot="body">

  <div class="message" tal:condition="request/unregister_missing|nothing"
       i18n:translate="">
    <span tal:replace="context/unregisterMissingObjects"
          i18n:name="missing_num">5</span> object(s) unregistered.
  </div>

  <p i18n:translate="">
    This is an object hub. There are 
    <span tal:replace="context/numRegistrations" 
          i18n:name="num_objects">42</span>
    objects registered.
  </p>

  <div tal:condition="not:request/view_registrations|nothing">
    <p>
      <a i18n:translate=""
        href="?view_registrations=1">View Object Registrations</a>
    </p>
  </div>
  <div tal:condition="request/view_registrations|nothing">
    <p>
      <a i18n:translate=""
        href=".">Hide Object Registrations</a>
    </p>
    <table>
      <tr>
        <th i18n:translate="">Path</th>
        <th i18n:translate="">Object ID</th>
        <th i18n:translate="">Status</th>
      </tr>
      <tr tal:repeat="object view/objects"
        tal:attributes="style python:not object['ok'] and 'color:red' or nothing">
        <td tal:content="object/path">/foo/bar</td>
        <td tal:content="object/id">87387239</td>
        <td tal:content="object/status">OK</td>
      </tr>
    </table>
  </div>
  <form>
    <input type="submit" name="unregister_missing" 
           value="Unregister Missing Objects" 
           i18n:attributes="value"/>
  </form>
</div>
</body>
</html>
