
    <html>
      <head><title>Unit test coverage for z3c.rest.traverser</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Unit test coverage for z3c.rest.traverser</h1>
      <table>
    
<tr><td><a href="z3c.html">z3c/</a></td> <td style="background: green">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 100% (0 of 282 uncovered)</td></tr>
<tr><td><a href="z3c.rest.html">&nbsp;&nbsp;&nbsp;&nbsp;rest/</a></td> <td style="background: green">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 100% (0 of 282 uncovered)</td></tr>
<tr><td><a href="z3c.rest.traverser.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;traverser.py</a></td> <td style="background: green">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 100% (0 of 23 uncovered)</td></tr>
</table><hr/>
<pre>
       <I><FONT COLOR="#B22222">##############################################################################
</FONT></I>       <I><FONT COLOR="#B22222">#
</FONT></I>       <I><FONT COLOR="#B22222"># Copyright (c) 2007 Zope Corporation and Contributors.
</FONT></I>       <I><FONT COLOR="#B22222"># All Rights Reserved.
</FONT></I>       <I><FONT COLOR="#B22222">#
</FONT></I>       <I><FONT COLOR="#B22222"># This software is subject to the provisions of the Zope Public License,
</FONT></I>       <I><FONT COLOR="#B22222"># Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.
</FONT></I>       <I><FONT COLOR="#B22222"># THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY AND ALL EXPRESS OR IMPLIED
</FONT></I>       <I><FONT COLOR="#B22222"># WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</FONT></I>       <I><FONT COLOR="#B22222"># WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
</FONT></I>       <I><FONT COLOR="#B22222"># FOR A PARTICULAR PURPOSE.
</FONT></I>       <I><FONT COLOR="#B22222">#
</FONT></I>       <I><FONT COLOR="#B22222">##############################################################################
</FONT></I>       <B><FONT COLOR="#BC8F8F">&quot;&quot;&quot;Some basic traversers for REST
       
       $Id: http.py 72310 2007-02-01 21:39:01Z mkerrin $
    1: &quot;&quot;&quot;</FONT></B>
    1: <B><FONT COLOR="#A020F0">import</FONT></B> zope.interface
    1: <B><FONT COLOR="#A020F0">from</FONT></B> zope.publisher.interfaces.http <B><FONT COLOR="#A020F0">import</FONT></B> IHTTPPublisher
    1: <B><FONT COLOR="#A020F0">from</FONT></B> zope.app.container.interfaces <B><FONT COLOR="#A020F0">import</FONT></B> IItemContainer
    1: <B><FONT COLOR="#A020F0">from</FONT></B> zope.publisher.interfaces <B><FONT COLOR="#A020F0">import</FONT></B> NotFound
    1: <B><FONT COLOR="#A020F0">from</FONT></B> z3c.rest <B><FONT COLOR="#A020F0">import</FONT></B> interfaces, null
       
    2: <B><FONT COLOR="#A020F0">class</FONT></B> ItemTraverser(object):
    1:     zope.interface.implements(IHTTPPublisher)
    1:     zope.component.adapts(IItemContainer, interfaces.IRESTRequest)
       
    1:     <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">__init__</FONT></B>(self, container, request):
   20:         self.context = container
   20:         self.request = request
       
    1:     <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">publishTraverse</FONT></B>(self, request, name):
   23:         <B><FONT COLOR="#A020F0">try</FONT></B>:
   23:             <B><FONT COLOR="#A020F0">return</FONT></B> self.context[name]
   12:         <B><FONT COLOR="#A020F0">except</FONT></B> KeyError:
   12:             <B><FONT COLOR="#A020F0">return</FONT></B> self.nullResource(request, name)
       
    1:     <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">nullResource</FONT></B>(self, request, name):
               <I><FONT COLOR="#B22222"># we traversed to something that doesn't exist.
</FONT></I>       
               <I><FONT COLOR="#B22222"># The name must be the last name in the path, so the traversal
</FONT></I>               <I><FONT COLOR="#B22222"># name stack better be empty:
</FONT></I>   12:         <B><FONT COLOR="#A020F0">if</FONT></B> request.getTraversalStack():
    2:             <B><FONT COLOR="#A020F0">raise</FONT></B> NotFound(self.context, name, request)
       
               <I><FONT COLOR="#B22222"># This should only happen for a PUT:
</FONT></I>   10:         <B><FONT COLOR="#A020F0">if</FONT></B> request.method != <B><FONT COLOR="#BC8F8F">'PUT'</FONT></B>:
    5:             <B><FONT COLOR="#A020F0">raise</FONT></B> NotFound(self.context, name, request)
       
    5:         <B><FONT COLOR="#A020F0">return</FONT></B> null.NullResource(self.context, name)
</pre>

      <div class="footer">
      Generated for revision exported on 2007-11-30 11:34:55.110922Z
      </div>
    </body>
    </html>
