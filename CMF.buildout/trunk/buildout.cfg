# CMF trunk + Zope trunk

[buildout]
extensions = buildout.dumppickedversions

extends = src/Zope2/versions.cfg
parts =
    zope2
    instance
    zopepy
    test
    test-zope212
    i18n-cmfcalendar
    i18n-cmfdefault
eggs =
    Zope2
    Products.CMFCalendar
    Products.CMFCore [test]
    Products.CMFDefault
    Products.CMFTopic
    Products.CMFUid
    Products.DCWorkflow
    Products.GenericSetup
    five.localsitemanager
develop =
    src/Zope2
    src/Products.CMFCalendar
    src/Products.CMFCore
    src/Products.CMFDefault
    src/Products.CMFTopic
    src/Products.CMFUid
    src/Products.DCWorkflow
    src/Products.GenericSetup
    src/five.localsitemanager

[versions]
# Override of a Zope2 trunk version pin
zope.sendmail = 3.5.1
# CMF-only dependencies
five.formlib = 1.0.2
plone.recipe.zope2instance = 4.0a4
z3c.recipe.i18n = 0.7.0
zope.authentication = 3.7.0
zope.cachedescriptors = 3.5.0
zope.componentvocabulary = 1.0
zope.copy = 3.5.0
zope.copypastemove = 3.5.2
zope.deprecation = 3.4.0
zope.dublincore = 3.4.3
zope.error = 3.6.0
zope.formlib = 3.10.0
zope.hookable = 3.4.1
zope.minmax = 1.1.1
zope.password = 3.5.1
zope.session = 3.9.2
zope.app.applicationcontrol = 3.5.0
zope.app.appsetup = 3.11
zope.app.component = 3.8.3
zope.app.container = 3.8.0
zope.app.debug = 3.4.1
zope.app.dependable = 3.4.0
zope.app.form = 3.12.1
zope.app.locales = 3.5.1
zope.app.pagetemplate = 3.7.1
zope.app.publication = 3.7.0
zope.app.publisher = 3.8.3
zope.app.schema = 3.5.0
zope.app.testing = 3.6.2
zLOG = 2.11.1

[zope2]
recipe = zc.recipe.egg
eggs = ${buildout:eggs}

[instance]
recipe = plone.recipe.zope2instance
eggs = ${buildout:eggs}
user = admin:admin
debug-mode = on
verbose-security = on
http-address = 127.0.0.1:8080

[zopepy]
recipe = zc.recipe.egg
eggs = ${buildout:eggs}
interpreter = zopepy
scripts = zopepy

[test]
recipe = zc.recipe.testrunner
eggs = ${buildout:eggs}
defaults = ['--module', '^Products[.](CMF|DC|GenericSetup)|^five[.]']

[test-zope212]
recipe = zc.recipe.testrunner
index = http://download.zope.org/Zope2/index/2.12.3/
eggs =
    Zope2 == 2.12.3
    ${buildout:eggs}
defaults = ['--module', '^Products[.](CMF|DC|GenericSetup)|^five[.]']

[i18n-cmfcalendar]
recipe = z3c.recipe.i18n:i18n
eggs =
    Products.CMFCalendar
packages =
    Products.CMFCalendar
domain = cmf_calendar
output = src/Products.CMFCalendar/Products/CMFCalendar/locales
maker =
    Products.CMFDefault.locales.tal_strings_xml
    Products.CMFDefault.locales.manual_pot
zcml =
    <include package="Products.CMFCore" file="testing.zcml"/>"
    <include package="Products.CMFCalendar"/>"
headerTemplate =
    src/Products.CMFDefault/Products/CMFDefault/locales/pot_header.txt

[i18n-cmfdefault]
recipe = z3c.recipe.i18n:i18n
eggs =
    Products.CMFCore
    Products.CMFDefault
    Products.CMFTopic
    Products.DCWorkflow
packages =
    Products.CMFCore
    Products.CMFDefault
    Products.CMFTopic
    Products.DCWorkflow
domain = cmf_default
output = src/Products.CMFDefault/Products/CMFDefault/locales
maker =
    Products.CMFDefault.locales.tal_strings_html
    Products.CMFDefault.locales.tal_strings_xml
    Products.CMFDefault.locales.manual_pot
zcml =
    <include package="Products.CMFCore" file="testing.zcml"/>"
    <include package="Products.CMFDefault"/>"
    <include package="Products.CMFTopic"/>"
    <include package="Products.DCWorkflow"/>"
headerTemplate =
    src/Products.CMFDefault/Products/CMFDefault/locales/pot_header.txt
