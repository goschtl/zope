# We must use the Zope2 development egg for now.

[buildout]
extends = src/Zope2/versions-zope2.cfg
parts =
    test
    zopepy
    instance
eggs =
    Zope2
    Products.CMFCalendar
    Products.CMFCore
    Products.CMFDefault
    Products.CMFTopic
    Products.CMFUid
    Products.DCWorkflow
    Products.GenericSetup
    five.localsitemanager
develop =
    src/Zope2
    src/Products.CMFCalendar
    src/Products.CMFCore
    src/Products.CMFDefault
    src/Products.CMFTopic
    src/Products.CMFUid
    src/Products.DCWorkflow
    src/Products.GenericSetup
    src/five.localsitemanager

[test]
recipe = zc.recipe.testrunner
eggs = ${buildout:eggs}
defaults = ['--module', '^Products[.](CMF|DC|GenericSetup)|^five[.]']
environment = test-environment

[test-environment]
SOFTWARE_HOME = ${buildout:directory}/src/Zope2/src
ZOPE_HOME = ${buildout:directory}/src/Zope2
INSTANCE_HOME = ${buildout:directory}

[zopepy]
recipe = zc.recipe.egg
eggs = ${buildout:eggs}
interpreter = zopepy
scripts = zopepy

[instance]
recipe = plone.recipe.zope2instance
eggs = ${buildout:eggs}
zope2-location = ${buildout:directory}/src/Zope2
user = admin:admin
debug-mode = on
verbose-security = on
http-address = 127.0.0.1:8080
