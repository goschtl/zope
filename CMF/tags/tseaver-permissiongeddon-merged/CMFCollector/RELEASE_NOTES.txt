CMF Collector Update Notes

  This file is for notes about crucial considerations for updating
  preexisting collectors to the current release.  You should always
  check here when doing updates for instructions about accommodating
  changes, when necessary.

  The file is ordered most recent items first, and the items refer to
  the collector version as indicated by the VERSION.text file in the
  same directory.

  See KNOWN_PROBLEMS.txt for pending bugs and problems to beware.

  Version 0.9b,  Nov 7, 2002

    Fixed bug where non-manager (supporters and non-staff) could not
    upload files ("attachments") to issues unless they owned the
    issues.  You can get the new, proper permission settings on
    existing collectors by changing your collector's "participation
    mode" on the configuration page.  Toggle it away and then back to
    the current setting to preserve the current setting...

    The collector now works with CMF 1.3 and prior versions (tested to
    my knowledge on CMF 1.3 and 1.2, at least).

    Tres implemented CollectorSubset, which encapsulates persistent
    queries you can add to a collector and refer to by URL traversal.

    There's now a batch_size parameter, and other handy niggles.

  Version 0.9b, Feb 21, 2002

    Enabled alternate collector policies about who can followup with
    comments on existing issues.  Now the collector configurer can
    enable comments by only staff and issue participants (the prior
    and default situation), by any authenticated user, or by anyone
    including authenticated users.

    To get this new functionality, you'll have to do two things

    - Remove the old collector_issue_workflow from the site's workflow
      contents and import the new collector_issue_workflow.zexp

    - Run the configuration "Reinstate catalog" action - the
      "Internal only" option will be sufficient - so preexisting
      issues will be properly adjusted.

  Version 0.9b, Nov 7, 2001

    - Packaged transcript webtext in a Document derivative
      ("WebTextDocument"), to take advantage of the CookedBody
      caching.

      Pre-existing issues using the old Document transcript will lose
      proper formatting.  To fix that, migrate them to the new document
      type using an external method, Extensions/webtext_migration.py.
      See the notes at the top of that file for migration instructions.

  Version 0.9b, Nov 1, 2001

    - Accommodation for recent (two days ago) DCWorkflow changes -
      backwards compatable with prior DCWorkflow version, but
      necessary for operation with new (DCWorkflow.py 1.12 and later).

      See the checkin notice for details:
     http://cvs.zope.org/CMF/CMFCollector/collector_issue_workflow.zexp#rev1.10

  Version 0.9b, Oct 28, 2001

    I believe we're now feature-complete for v 0.9, hence the beta
    designation and only bug fixes 'til 0.9 full release.

    - Minor changes to the workflow - may help with issues preexisting
      0.9a, if you encounter problems.

  Version 0.9a, Oct 25, 2001

    - This version requires two installation changes.

      - The first is simple - replace (or adjust) the workflow.  You can
        either:

        - install the new collector issue workflow, by first
          deleting the existing one (in the portal_workflow tool
          'contents' tab) and installing the new one, according to the
          instructions in INSTALL.txt, or

        - adjust the existing one, by adding the 'request' transition to
          the 'Pending' and 'Pending_confidential' states.  (Visit the
          collector_issue_workflow within the portal_workflow tool, go
          to states, enabling the 'request' transition in each.)

      - Until the collector owner does the second, noone will be able to
        browse your collector.  The owners have to go directly to the
        configure form for their collectors and pick an option that
        instates the new, collector-internal catalog and recatalogs all
        the issues.

        To do so, after putting the new Product code in place (and
        restarting your site, if you don't have auto-refresh going)
        collector owners should go to the URL produced by appending
        "/collector_edit_form" to the URL of the collectors - eg::

          http://new.zope.org/Members/klm/ColDev/collector_edit_form

        for the example collector at http://new.zope.org/Members/klm/ColDev.

        Check the box by "Reinstate internal catalog?", to the right of
        the submit and reset buttons at the bottom of the form, and then
        submit them.  This will establish a new, internal catalog as
        well as indexing all the items against it and the site catalog
        (using changed schemas).

        These changes solve the issue discussed at
        http://new.zope.org/Members/klm/ColDev/25 - see there for details.

        This version also entails a change to the collector issue
        workflow.  You can either delete the old workflow and import the
        new one (see the INSTALL.txt file for instructions), or just go
        to the portal workflow tool and enable the 'request' transition
        on the 
