
    <html>
      <head><title>Test coverage for mongopersist.testing</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Test coverage for mongopersist.testing</h1>
      <table>
    
<tr><td><a href="mongopersist.html">mongopersist/</a></td> <td style="background: yellow">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 99% (1 of 695 uncovered)</td></tr>
<tr><td><a href="mongopersist.testing.html">&nbsp;&nbsp;&nbsp;&nbsp;testing.py</a></td> <td style="background: green">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 100% (0 of 33 uncovered)</td></tr>
</table><hr/>
<pre>
       <I><FONT COLOR="#B22222">##############################################################################
</FONT></I>       <I><FONT COLOR="#B22222">#
</FONT></I>       <I><FONT COLOR="#B22222"># Copyright (c) 2011 Zope Foundation and Contributors.
</FONT></I>       <I><FONT COLOR="#B22222"># All Rights Reserved.
</FONT></I>       <I><FONT COLOR="#B22222">#
</FONT></I>       <I><FONT COLOR="#B22222"># This software is subject to the provisions of the Zope Public License,
</FONT></I>       <I><FONT COLOR="#B22222"># Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.
</FONT></I>       <I><FONT COLOR="#B22222"># THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY AND ALL EXPRESS OR IMPLIED
</FONT></I>       <I><FONT COLOR="#B22222"># WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</FONT></I>       <I><FONT COLOR="#B22222"># WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
</FONT></I>       <I><FONT COLOR="#B22222"># FOR A PARTICULAR PURPOSE.
</FONT></I>       <I><FONT COLOR="#B22222">#
</FONT></I>       <I><FONT COLOR="#B22222">##############################################################################
</FONT></I>    1: <B><FONT COLOR="#BC8F8F">&quot;&quot;&quot;Mongo Persistence Testing Support&quot;&quot;&quot;</FONT></B>
    1: <B><FONT COLOR="#A020F0">from</FONT></B> __future__ <B><FONT COLOR="#A020F0">import</FONT></B> absolute_import
    1: <B><FONT COLOR="#A020F0">import</FONT></B> doctest
    1: <B><FONT COLOR="#A020F0">import</FONT></B> pymongo
    1: <B><FONT COLOR="#A020F0">import</FONT></B> re
    1: <B><FONT COLOR="#A020F0">import</FONT></B> transaction
    1: <B><FONT COLOR="#A020F0">from</FONT></B> zope.testing <B><FONT COLOR="#A020F0">import</FONT></B> module, renormalizing
       
    1: <B><FONT COLOR="#A020F0">from</FONT></B> mongopersist <B><FONT COLOR="#A020F0">import</FONT></B> datamanager, serialize
       
    1: checker = renormalizing.RENormalizing([
    1:     (re.compile(r<B><FONT COLOR="#BC8F8F">'datetime.datetime(.*)'</FONT></B>),
    1:      <B><FONT COLOR="#BC8F8F">'datetime.datetime(2011, 10, 1, 9, 45)'</FONT></B>),
    1:     (re.compile(r<B><FONT COLOR="#BC8F8F">&quot;ObjectId\('[0-9a-f]*'\)&quot;</FONT></B>),
    1:      <B><FONT COLOR="#BC8F8F">&quot;ObjectId('4e7ddf12e138237403000000')&quot;</FONT></B>),
    1:     (re.compile(r<B><FONT COLOR="#BC8F8F">&quot;object at 0x[0-9a-f]*&gt;&quot;</FONT></B>),
    1:      <B><FONT COLOR="#BC8F8F">&quot;object at 0x001122&gt;&quot;</FONT></B>),
           ])
       
       OPTIONFLAGS = (doctest.NORMALIZE_WHITESPACE|
    1:                doctest.ELLIPSIS|
    1:                doctest.REPORT_ONLY_FIRST_FAILURE
                      <I><FONT COLOR="#B22222">#|doctest.REPORT_NDIFF
</FONT></I>                      )
       
    1: <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">setUp</FONT></B>(test):
   46:     module.setUp(test)
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'conn'</FONT></B>] = pymongo.Connection(<B><FONT COLOR="#BC8F8F">'localhost'</FONT></B>, 27017, tz_aware=False)
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'DBNAME'</FONT></B>] = <B><FONT COLOR="#BC8F8F">'mongopersist_test'</FONT></B>
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'conn'</FONT></B>].drop_database(test.globs[<B><FONT COLOR="#BC8F8F">'DBNAME'</FONT></B>])
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'commit'</FONT></B>] = transaction.commit
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'dm'</FONT></B>] = datamanager.MongoDataManager(
   46:         test.globs[<B><FONT COLOR="#BC8F8F">'conn'</FONT></B>],
   46:         default_database=test.globs[<B><FONT COLOR="#BC8F8F">'DBNAME'</FONT></B>],
   46:         root_database=test.globs[<B><FONT COLOR="#BC8F8F">'DBNAME'</FONT></B>])
       
    1: <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">tearDown</FONT></B>(test):
   46:     module.tearDown(test)
   46:     transaction.abort()
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'conn'</FONT></B>].drop_database(test.globs[<B><FONT COLOR="#BC8F8F">'DBNAME'</FONT></B>])
   46:     test.globs[<B><FONT COLOR="#BC8F8F">'conn'</FONT></B>].disconnect()
   46:     serialize.SERIALIZERS.__init__()
</pre>

      <div class="footer">
      Generated for revision 5108:5114M on 2011-11-04 17:02:17.574731Z
      </div>
    </body>
    </html>
