<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML lang="en">
<HEAD>
<TITLE>Security</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" LINK="#000099" VLINK="#555555" ALINK="#77003B">
<dtml-if manage_tabs>
<dtml-var manage_tabs>
</dtml-if manage_tabs>

<P>
The listing below shows the current security settings for this item. 
Permissions are rows and roles are columns.  Checkboxes are used to
indicate where roles are assigned permissions. You can also assign 
<strong><a href="manage_listLocalRoles">local roles</a></strong> to 
users, which give users extra roles in the context of this object and 
its subobjects.
</P>
<P>  
When a role is assigned to a permission, users with the given role
will be able to perform tasks associated with the permission on this
item. When the <EM>Acquire permission settings</EM> checkbox is selected
then the containing objects's permission settings are used. Note: the
acquired permission settings may be augmented by selecting Roles for
a permission in addition to selecting to acquire permissions.
</P>

<dtml-if "_['id'] != 'acl_users'">
<P>
You can define new Roles by using the <EM>User defined roles</EM>
form below.
</P>
</dtml-if>

<style type="text/css">
<!--
td {
  font-size: 10pt;
  color: black;
}
-->
</style>

<dtml-with expr="_.namespace(valid_roles=valid_roles())">
<FORM ACTION="manage_changePermissions" METHOD="POST">
<TABLE>
<TR>
  <dtml-unless isTopLevelPrincipiaApplicationObject>
  <TD></TD>
  </dtml-unless>
  <TD>
  <STRONG>
  Permission
  </STRONG>
  </TD>
  <TD ALIGN="LEFT" COLSPAN="<dtml-var expr="_.len(valid_roles)">">
  <STRONG>
  Roles
  </STRONG>
  </TD>
</TR>
<TR>
  <dtml-unless isTopLevelPrincipiaApplicationObject>
  <TD>
  <STRONG>
  <a href="manage_acquiredForm">Acquire<BR>permission<BR>settings</a>?
  </STRONG>
  </TD>
  </dtml-unless>
  <TD></TD>
  <dtml-in valid_roles>
  <TD CLASS="bold">
  <A HREF="manage_roleForm?role_to_manage=<dtml-
     var sequence-item url_quote>"><dtml-var sequence-item></A>
  </TD>
  </dtml-in valid_roles>
</TR>

<dtml-in permission_settings mapping>
<TR>
  <dtml-unless isTopLevelPrincipiaApplicationObject>
  <TD ALIGN="CENTER">
  <INPUT TYPE="checkbox" NAME="a<dtml-var sequence-index>" 
   <dtml-var acquire>>
  </TD>
  </dtml-unless>
  <TD ALIGN="LEFT">
      <A HREF="manage_permissionForm?permission_to_manage=<dtml-
               var name url_quote>">
      <dtml-var name></A>
  </TD>
  <dtml-in roles mapping>
  <TD ALIGN="CENTER">
     <INPUT TYPE="CHECKBOX" NAME="<dtml-var name>" <dtml-var checked>>
  </TD>
  </dtml-in>
</TR>

</dtml-in permission_settings>
<TR>
<dtml-if isTopLevelPrincipiaApplicationObject>
<TD COLSPAN="<dtml-var expr="_.len(valid_roles)+1">" ALIGN="CENTER">
<dtml-else>
<TD COLSPAN="<dtml-var expr="_.len(valid_roles)+2">" ALIGN="CENTER">
</dtml-if>
<INPUT TYPE="SUBMIT" VALUE="Change">
</TD>
</TR>
</TABLE>
</FORM>
</dtml-with>

<dtml-if "_['id'] != 'acl_users'">
<P> 
<FORM ACTION="manage_defined_roles" METHOD="POST">
<TABLE CELLPADDING="2">
<TR>
  <TD ALIGN="LEFT" VALIGN="TOP">
  <STRONG>
  User defined roles
  </STRONG>
  </TD>
  <TD ALIGN="LEFT" VALIGN="TOP">
  </TD>
</TR>
<TR>
  <TD ALIGN="LEFT" VALIGN="TOP">
  <INPUT TYPE="TEXT" NAME="role" SIZE="16">
  </TD>
  <TD ALIGN="LEFT" VALIGN="TOP">
  <INPUT TYPE="SUBMIT" NAME="submit" VALUE="Add Role">
  </TD>
</TR>
<dtml-if userdefined_roles>
<TR>
  <TD ALIGN="LEFT" VALIGN="TOP">
  <SELECT NAME="roles:list">
  <dtml-in userdefined_roles>
  <OPTION VALUE="<dtml-var sequence-item html_quote>"><dtml-var sequence-item>
  </dtml-in userdefined_roles>
  </SELECT>
  </TD>
  <TD ALIGN="LEFT" VALIGN="TOP">
  <INPUT TYPE="SUBMIT" NAME="submit" VALUE="Delete Role">
  </TD>
</TR>
</dtml-if userdefined_roles>
</TABLE>
</FORM>
</dtml-if>


</BODY>
</HTML>
