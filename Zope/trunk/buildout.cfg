[buildout]
develop = .
parts =
    test
    scripts
    zopepy
    docs
    alltests
    allpy
    dependencies
    docs

extends = versions.cfg
unzip = true


[test]
recipe = zc.recipe.testrunner
eggs = Zope2


[scripts]
recipe = zc.recipe.egg:scripts
eggs = Zope2


[zopepy]
recipe = zc.recipe.egg
eggs = Zope2
interpreter = zopepy
scripts = zopepy


[docs]
recipe = zc.recipe.egg
eggs =  sphinx


[alltests]
recipe = zc.recipe.testrunner
eggs =
    Zope2
    Acquisition
    DateTime
    ExtensionClass
    Persistence
    RestrictedPython
    tempstorage
    zope.browser
    zope.browsermenu
    zope.browserpage
    zope.browserresource
    zope.component
    zope.configuration
    zope.container [test]
    zope.contentprovider
    zope.contenttype
    zope.deferredimport
    zope.event
    zope.exceptions
    zope.formlib [test]
    zope.i18n [compile]
    zope.i18nmessageid
    zope.interface
    zope.lifecycleevent [test]
    zope.location
    zope.pagetemplate
    zope.processlifetime
    zope.proxy
    zope.ptresource
    zope.publisher
    zope.schema
    zope.security
    zope.sendmail
    zope.sequencesort
    zope.site [test]
    zope.size
    zope.structuredtext
    zope.tal
    zope.tales
    zope.traversing [test]
    zope.viewlet

defaults = ['--module', '!^(zope[.]app)[.]']


[allpy]
recipe = zc.recipe.egg
eggs = ${alltests:eggs}
interpreter = allpy
scripts = allpy


[dependencies]
recipe = z3c.recipe.depgraph
eggs = ${alltests:eggs}
variants = base tred
exclude =
    ClientForm
    docutils
    mechanize

[docs]
recipe = zc.recipe.egg
eggs = Sphinx
