<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.9: http://docutils.sourceforge.net/" />
<title>Test Runner</title>
<link rel="stylesheet" href="../../../../3/doc/style/rest.css" type="text/css" />
</head>
<body>
<div class="document" id="test-runner">
<h1 class="title">Test Runner</h1>
<p>The testrunner module is used to run automated tests defined using the
unittest framework.  Its primary feature is that it <em>finds</em> tests by
searching directory trees.  It doesn't require the manual
concatenation of specific test suites.  It is highly customizable and
should be usable with any project.  In addition to finding and running
tests, it provides the following additional features:</p>
<ul>
<li><p class="first">Test filtering using specifications of:</p>
<p>o test packages within a larger tree</p>
<p>o regular expression patterns for test modules</p>
<p>o regular expression patterns for individual tests</p>
</li>
<li><p class="first">Organization of tests into levels and layers</p>
<p>Sometimes, tests take so long to run that you don't want to run them
on every run of the test runner.  Tests can be defined at different
levels.  The test runner can be configured to only run tests at a
specific level or below by default.  Command-line options can be
used to specify a minimum level to use for a specific run, or to run
all tests.  Individual tests or test suites can specify their level
via a 'level' attribute. where levels are integers increasing from 1.</p>
<p>Most tests are unit tests.  They don't depend on other facilities, or
set up whatever dependencies they have.  For larger applications,
it's useful to specify common facilities that a large number of
tests share.  Making each test set up and and tear down these
facilities is both ineffecient and inconvenient.  For this reason,
we've introduced the concept of layers, based on the idea of layered
application architectures.  Software build for a layer should be
able to depend on the facilities of lower layers already being set
up.  For example, Zope defines a component architecture.  Much Zope
software depends on that architecture.  We should be able to treat
the component architecture as a layer that we set up once and reuse.
Similarly, Zope application software should be able to depend on the
Zope application server without having to set it up in each test.</p>
<p>The test runner introduces test layers, which are objects that can
set up environments for tests within the layers to use.  A layer is
set up before running the tests in it.  Individual tests or test
suites can define a layer by defining a <cite>layer</cite> attribute, which is
a test layer.</p>
</li>
<li><p class="first">Reporting</p>
<ul class="simple">
<li>progress meter</li>
<li>summaries of tests run</li>
</ul>
</li>
<li><p class="first">Analysis of test execution</p>
<ul class="simple">
<li>post-mortem debugging of test failures</li>
<li>memory leaks</li>
<li>code coverage</li>
<li>source analysis using pychecker</li>
<li>memory errors</li>
<li>execution times</li>
<li>profiling</li>
</ul>
</li>
</ul>
<p>Chapters:</p>
<ul class="simple">
<li><a class="reference" href="testrunner-simple.txt">Simple Usage</a></li>
<li><a class="reference" href="testrunner-layers.txt">Layer Selection</a></li>
<li><a class="reference" href="testrunner-arguments.txt">Passing arguments explicitly</a></li>
<li><a class="reference" href="testrunner-verbose.txt">Verbose Output</a></li>
<li><a class="reference" href="testrunner-test-selection.txt">Test Selection</a></li>
<li><a class="reference" href="testrunner-progress.txt">Test Progress</a></li>
<li><a class="reference" href="testrunner-errors.txt">Errors and Failures</a></li>
<li><a class="reference" href="testrunner-debugging.txt">Debugging</a></li>
<li><a class="reference" href="testrunner-layers-ntd.txt">Layers that can't be torn down</a></li>
<li><a class="reference" href="testrunner-coverage.txt">Code Coverage</a></li>
<li><a class="reference" href="testrunner-wo-source.txt">Running Without Source Code</a></li>
<li><a class="reference" href="testrunner-edge-cases.txt">Edge Cases</a></li>
</ul>
</div>
</body>
</html>
