<configure xmlns="http://namespaces.zope.org/zope">

  <!-- IPrincipalGroups adapter -->
  <adapter
     for="zope.security.interfaces.IPrincipal"
     provides=".interfaces.IPrincipalGroups"
     factory=".groups.PrincipalGroups" />

  <!-- extended grant info -->
  <adapter factory="z3ext.security.grantinfo.ExtendedGrantInfo" />

  <class class=".grantinfo.ExtendedGrantInfo">
    <allow interface=".interfaces.IExtendedGrantInfo" />
  </class>

  <!-- Public Roles/Permissions vocabulary -->
  <utility
     name="z3ext.roles"
     factory=".vocabulary.RolesVocabulary" />

  <utility
     name="z3ext.permissions"
     factory=".vocabulary.PermissionsVocabulary" />

  <!-- Registering documentation with API doc -->
  <configure
     xmlns:apidoc="http://namespaces.zope.org/apidoc"
     xmlns:zcml="http://namespaces.zope.org/zcml"
     zcml:condition="have apidoc">

    <apidoc:bookchapter
       id="z3ext"
       title="z3ext packages" />

  </configure>

</configure>
