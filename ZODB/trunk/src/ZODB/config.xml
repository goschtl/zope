<schema type="database">

  <sectiongroup type="storage">

    <sectiontype type="filestorage" datatype="ZODB.config.FileStorage">
      <key name="path" required="yes"/>
      <key name="create" datatype="boolean" default="true"/>
      <key name="read_only" datatype="boolean" default="false"/>
      <key name="stop"/>
      <key name="quota" datatype="integer"/>
    </sectiontype>

    <sectiontype type="mappingstorage" datatype="ZODB.config.MappingStorage">
      <key name="name" default="Mapping Storage"/>
    </sectiontype>

    <sectiontype type="fullstorage" datatype="ZODB.config.BDBStorage">
      <key name="name" required="yes" />
      <key name="interval" datatype="time-interval" default="2m" />
      <key name="kbyte" datatype="integer" default="0" />
      <key name="min" datatype="integer" default="0" />
      <key name="logdir" />
      <key name="cachesize" datatype="byte-size" default="128MB" />
      <key name="frequency" datatype="time-interval" default="0" />
      <key name="packtime" datatype="time-interval" default="4h" />
      <key name="classicpack" datatype="integer" default="0" />
      <key name="read_only" datatype="boolean" default="off"/>
    </sectiontype>

    <!-- XXX Fred promises to make it so minimal storage is just an
         extension of fullstorage -->
    <sectiontype type="minimalstorage" datatype="ZODB.config.BDBStorage">
      <key name="name" required="yes" />
      <key name="interval" datatype="time-interval" default="2m" />
      <key name="kbyte" datatype="integer" default="0" />
      <key name="min" datatype="integer" default="0" />
      <key name="logdir" />
      <key name="cachesize" datatype="byte-size" default="128MB" />
      <key name="frequency" datatype="time-interval" default="0" />
      <key name="packtime" datatype="time-interval" default="4h" />
      <key name="classicpack" datatype="integer" default="0" />
      <key name="read_only" datatype="boolean" default="off"/>
    </sectiontype>

    <sectiontype type="zeoclient" datatype="ZODB.config.ZEOClient">
      <multikey name="server" datatype="socket-address" required="yes"/>
      <key name="storage" default="1"/>
      <key name="cache_size" datatype="integer" default="20000000"/>
      <key name="name" default=""/>
      <key name="client"/>
      <key name="var"/>
      <key name="min_disconnect_poll" datatype="integer" default="5"/>
      <key name="max_disconnect_poll" datatype="integer" default="300"/>
      <key name="wait" datatype="boolean" default="on"/>
      <key name="read_only" datatype="boolean" default="off"/>
      <key name="read_only_fallback" datatype="boolean" default="off"/>
    </sectiontype>

    <sectiontype type="demostorage" datatype="ZODB.config.DemoStorage">
      <key name="name" default="Demo Storage"/>
      <section type="storage" name="*" attribute="base"/>
      <key name="quota" datatype="integer"/>
    </sectiontype>

  </sectiongroup>

  <!-- the rest is the actual configuration for the database -->
  <section type="storage" name="*" attribute="storage"/>
  <key name="cache_size" datatype="integer" default="5000"/>
  <key name="pool_size" datatype="integer" default="7"/>
  <key name="version_pool_size" datatype="integer" default="3"/>
  <key name="version_cache_size" datatype="integer" default="100"/>

</schema>
