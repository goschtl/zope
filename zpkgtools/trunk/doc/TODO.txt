===========================
Things that need to be done
===========================

- Need name + acronym to describe what gets built, not normal words
  (Jim sez).  Zope3-Dev seems to want to call them "packages".

- Package assembler script to build sumo/combined distro (mostly done)

  - Move the revision control repository to Subversion.

  - Split the distro-builder and setup.py runtime support into two
    separate packages so there's not so much support code in
    distributions or checkouts that use this as the foundation for
    setup.py.

  - There should be a way to specify a Download-URL when building a
    package; using the distutils "register" command would then cause
    that field to be provided via PyPI.

    An alternative is to not include the Download-URL information in
    the distribution and to simply edit the finished registration
    manually.  This doesn't feel like it "plays nice" in the distutils
    world, though.

  - Re-visit the abstractions for parsed revision control URLs:

    - The current abstraction is pretty painful to work with, and
      requires too much awareness of what kind of URL is being
      handled.

    - It would be really nice to be able to build a distribution from
      a Subversion branch as well as a tag for the purpose of testing
      the generated distribution, instead of having alternate resource
      maps to work from a checkout to access the branch.

  - The setuptools helper should only be included in distributions that
    actually need it.  This is currenly only needed when packages end up
    defining package data (common in Zope, but not for everyone).  Low
    priority.

  - CVS retriever (mostly done; need to deal with unspecified type and
    user for remote repositories)

    - can check *~/.cvspass* to see if there's an entry there

    - otherwise assume :ext: if there's a CVS_RSH setting?  or just
      always?  try anonymous :pserver: access?

    - more configuration settings?

    It's not clear these remaining issues are particularly important.

  - When building a distribution that specifies explicit inclusions,
    the packaging metadata (`*.cfg` except `PACKAGE.cfg`) files should
    be included automatically.

  - We should have a way to express dependence on particular versions
    of Python, and a way to say which is preferred.  (This can be used
    when building an "application" distribution since that has some
    support to select from different available Python interpreters.)

  - Use delayed loading of resource maps, especially those that need to
    be retrieved from remote systems.  The basic model of the resource
    map allows this strategy to be employed effectively.  Low priority.

  - Support use of http: and https: for access to Subversion
    repositories.  Very low priority since we're using svn: and svn+ssh:
    for svn.zope.org.

  - Support different types of generated archives; bzipped tarballs,
    gzipped tarballs and ZIP archives should both be easily generated.
    Perhaps a configuration option should specify which are produced
    by default.  Low priority.

  - When installing an application bundle, it should be an error if
    the installation directory already exists and the user hasn't
    explicitly said that's ok (-f/--force).

  - Some way to transform template files on build or installation
    beyond what distutils does for scripts would be nice; it's not
    clear how to feed enough interesting information into the process.
    The use cases aren't sufficiently clear at this time.  Won't
    happen unless the use cases become clearer.

  - Consider looking for the configuration file in the current
    directory before looking in ~/.zpkg/.

- Look at the package manager used by the MacPython people to see what
  can be/has been done.

- Deal with a package tree like the zope package tree that includes
  both pure-Python and non-pure packages; these could easily land in
  separate directory hierarchies for installations using a different
  $prefix and $exec_prefix.  (The ``pkgutil`` module from the standard
  library does not provide an acceptable solution due to a bug: see
  http://www.python.org/sf/935117 for more info.)

  (We're currently dealing with them by saying "use **--home** when
  installing" on Unix.  This may be sufficient since this isn't an
  issue for Windows systems (which never separate $prefix and
  $exec_prefix).)

- Fix up finddeps.py to stop searching at defined boundaries.  How to
  define these boundaries is in flux at the moment.

- Find a way to use ZConfig itself instead of the half-way
  re-implementation in ``zpkgtools.cfgparser``; it's a real pain
  having to give up %defines and some of the nicer aspects of schemas
  (or having to re-implement them).

- Write a new setup.py for Zope 3 and ZODB to use in a checkout that
  uses the package metadata; this can happen after the ZopeX3 release.

  A preliminary setup.py replacement for the ZODB project is much
  shorter than the conventional setup.py (28 lines, not including the
  license blurb).

- Documentation, documentation, documentation!
