<html tal:define="URL context/absolute_url;">
  <head>
    <meta content="text/html; charset=ISO-8859-1" 
          http-equiv="content-type" />
    <title>Selenium Functional Test Runner</title>

    <link rel="stylesheet" type="text/css" href="selenium.css" 
          tal:attributes="href string:${URL}/selenium.css"/>
    <script language="JavaScript" type="text/javascript" 
            src="html-xpath/html-xpath-patched.js"
            tal:attributes="src string:${URL}/html-xpath/html-xpath-patched.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="selenium-browserbot.js"
            tal:attributes="src string:${URL}/selenium-browserbot.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="selenium-api.js"
            tal:attributes="src string:${URL}/selenium-api.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="selenium-commandhandlers.js"
            tal:attributes="src string:${URL}/selenium-commandhandlers.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="selenium-executionloop.js"
            tal:attributes="src string:${URL}/selenium-executionloop.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="selenium-fitrunner.js"
            tal:attributes="src string:${URL}/selenium-fitrunner.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="selenium-logging.js"
            tal:attributes="src string:${URL}/selenium-logging.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="htmlutils.js"
            tal:attributes="src string:${URL}/htmlutils.js"
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="xpath.js"
            tal:attributes="src string:${URL}/xpath.js" 
            ></script>
    <script language="JavaScript" type="text/javascript" 
            src="user-extensions.js"
            tal:attributes="src string:${URL}/user-extensions.js"
            ></script>
    <script language="JavaScript" type="text/javascript">
        function openDomViewer() {
            var autFrame = document.getElementById('myiframe');
            var autFrameDocument = getIframeDocument(autFrame);
            this.rootDocument = autFrameDocument;
            var domViewer = window.open('domviewer.html');
            return false;
        }
    </script>

  </head>

  <body onload="start();">

    <table class="layout">
    <form action="" name="controlPanel">

      <!-- Suite, Test, Control Panel -->

      <tr class="selenium">
        <td width="25%" height="30%" rowspan="2">
            <iframe name="testSuiteFrame" id="testSuiteFrame" 
                    src="./tests/TestSuite.html"
                    tal:define="dynamic string:${URL}/test_suite_html;"
                    tal:attributes="src options/suite_name | dynamic;"
                    ></iframe></td>
        <td width="50%" height="30%" rowspan="2"><iframe name="testFrame" id="testFrame"></iframe></td>
        <th width="25%" height="1" class="header">
          <h1><a href="http://selenium.thoughtworks.com" title="The Selenium Project">Selenium</a> TestRunner</h1>
        </th>
      </tr>

      <tr class="selenium">
        <td width="25%" height="30%" id="controlPanel">

          <fieldset>
            <legend>Execute Tests</legend>
            
            <div>
              <input id="modeRun" type="radio" name="runMode" value="0" checked="checked"/><label for="modeRun">Run</label>
              <input id="modeWalk" type="radio" name="runMode" value="500" /><label for="modeWalk">Walk</label>
              <input id="modeStep" type="radio" name="runMode" value="-1" /><label for="modeStep">Step</label>
            </div>
            
            <div>
              <button type="button" id="runSuite" onclick="startTestSuite();"
                      title="Run the entire Test-Suite">
                <strong>All</strong>
              </button>
              <button type="button" id="runTest" onclick="runSingleTest();"
                      title="Run the current Test">
                <em>Selected</em>
              </button>
              <button type="button" id="continueTest" disabled="disabled"
                      title="Continue the Test">
                Continue
              </button>
            </div>
            
          </fieldset>

          <table id="stats" align="center">
            <tr>
              <td colspan="2" align="right">Elapsed:</td>
              <td id="elapsedTime" colspan="2">00.00</td>
            </tr>
            <tr>
              <th colspan="2">Tests</th>
              <th colspan="2">Commands</th>
            </tr>
            <tr>
              <td class="count" id="testRuns">0</td>
              <td>run</td>
              <td class="count" id="commandPasses">0</td>
              <td>passed</td>
            </tr>
            <tr>
              <td class="count" id="testFailures">0</td>
              <td>failed</td>
              <td class="count" id="commandFailures">0</td>
              <td>failed</td>
            </tr>
            <tr>
              <td colspan="2"></td>
              <td class="count" id="commandErrors">0</td>
              <td>incomplete</td>
            </tr>
          </table>

          <fieldset>
            <legend>Tools</legend>

            <button type="button" id="domViewer1" onclick="openDomViewer();">
              View DOM
            </button>
            <button type="button" onclick="LOG.show();">
              Show Log
            </button>

          </fieldset>

        </td>
      </tr>

      <!-- AUT -->

      <tr>
        <td colspan="3" height="70%">
          <iframe name="myiframe" id="myiframe" src="splash_html"></iframe>
        </td>
      </tr>
    </form>
    </table>

  </body>
</html>
